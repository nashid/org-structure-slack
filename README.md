# org-structure-slack

A thin Slack client for [org-structure-cli][org-structure-cli] that exposes
the read-only `get` and `find` commands.

Commands entered in the bot that start with `get` or `find` are passed straight
through to a local org-structure-cli. Any response is passed back to the user
with some minor data formatting. The client is pulled in as a submodule.

## Building

org-structure-slack is a chat bot built on the [Hubot][hubot] framework. It was
initially generated by [generator-hubot][generator-hubot].

## Running locally

You can start org-structure-slack locally by running:

    % ORG_STRUCTURE_DATA_DIR=[location of org structure data] ORG_STRUCTURE_CLIENT=[location of org structure cli] HUBOT_SLACK_TOKEN=[bot token] bin/hubot -a slack

or by running the `run.sh` file:

    % ORG_STRUCTURE_SLACK_TOKEN=[bot token] run.sh

`run.sh` expects to find the data directory and cli in `./data` and `./cli` respectively.

## Docker

org-structure-slack also comes with a Dockerfile, which builds an image using
[BigTrueData's scala alpine image][scala-alpine] as a base and runs `run.sh`.

Because the container runs `run.sh`, you only need to provide the `ORG_STRUCTURE_SLACK_TOKEN`
environment variable when running the container.


[org-structure-cli]: https://github.com/saksdirect/org-structure-cli
[hubot]: http://hubot.github.com
[generator-hubot]: https://github.com/github/generator-hubot
[scala-alpine]:https://github.com/bigtruedata/docker-scala
